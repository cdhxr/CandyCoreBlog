/**
 * Any CSS included here will be global. The classic template
 * bundles Infima by default. Infima is a CSS framework designed to
 * work well for content-centric websites.
 */

/* LXGW WenKai 霞鹜文楷 - 使用 CDN */
@import url('https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css');

/* Noto Serif SC (思源宋体) - 使用 Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap');

/* Outfit 英文字体 - 使用 Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');

/* 如果使用本地字体，请注释上面的 @import 并取消下面的注释 */
/*
@font-face {
  font-family: 'LXGW WenKai';
  src: url('/fonts/LXGWWenKai-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LXGW WenKai';
  src: url('/fonts/LXGWWenKai-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
*/

/* Tailwind CSS v4 配置 */
@layer theme, base, components, utilities;
@import 'tailwindcss/theme.css' layer(theme) important;
@import 'tailwindcss/utilities.css' layer(utilities) important;

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is([data-theme="dark"] *));

/* shadcn 主题映射 */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--border, currentColor);
  }

  * {
    scrollbar-width: thin;
  }

  :root {
    /* --- 字体变量 --- */
    --font-outfit: 'Outfit', system-ui, -apple-system, sans-serif;
    --font-wenkai: 'LXGW WenKai', 'Noto Serif SC', Georgia, serif;

    /* Docusaurus 默认字体使用 Outfit */
    --ifm-font-family-base: var(--font-outfit);
    --ifm-heading-font-family: var(--font-outfit);

    /* --- shadcn 主题变量 --- */
    --radius: 0.65rem;
    --background: oklch(100% 0.00011 271.152 / 0.948);
    --foreground: oklch(0.145 0 0);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.145 0 0);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.145 0 0);
    --primary: oklch(0.205 0 0);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.97 0 0);
    --secondary-foreground: oklch(0.205 0 0);
    --muted: oklch(0.97 0 0);
    --muted-foreground: oklch(0.556 0 0);
    --accent: oklch(0.97 0 0);
    --accent-foreground: oklch(0.205 0 0);
    --destructive: oklch(0.577 0.245 27.325);
    --border: oklch(0.922 0 0);
    --input: oklch(0.922 0 0);
    --ring: oklch(0.708 0 0);

    /* --- 亮色模式主题色 (来自 --nebula-500) --- */
    --ifm-color-primary: #1963ae;
    --ifm-color-primary-dark: #174a9d;
    --ifm-color-primary-darker: #154694;
    --ifm-color-primary-darkest: #12397a;
    --ifm-color-primary-light: #1b5abf;
    --ifm-color-primary-lighter: #1d5ec8;
    --ifm-color-primary-lightest: #236bdf;
    --ifm-background-color: hsl(0, 0%, 98%);

    /* --- NavBar 颜色自定义 --- */
    --ifm-navbar-background-color: #ffffff;
    --ifm-navbar-text-color: #333333;
    --ifm-navbar-link-color: #333333;
    --ifm-navbar-link-hover-color: #1963ae;
    --ifm-navbar-item-padding-horizontal: 12px;
    --ifm-navbar-item-padding-vertical: 8px;

    /* 你原有的设置 (保留) */
    --ifm-code-font-size: 95%;
    --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
  }

  html[data-theme='dark'] {
    /* --- shadcn 深色主题变量 --- */
    --background: oklch(20.8% 0.042 265.755);
    --foreground: oklch(0.985 0 0);
    --card: oklch(20.8% 0.042 265.755);
    --card-foreground: oklch(0.985 0 0);
    --popover: oklch(20.8% 0.042 265.755);
    --popover-foreground: oklch(0.985 0 0);
    --primary: oklch(0.606 0.25 292.717);
    --primary-foreground: oklch(0.969 0.016 293.756);
    --secondary: oklch(27.9% 0.041 260.031);
    --secondary-foreground: oklch(0.985 0 0);
    --muted: oklch(27.9% 0.041 260.031);
    --muted-foreground: oklch(0.705 0.015 286.067);
    --accent: oklch(27.9% 0.041 260.031);
    --accent-foreground: oklch(0.985 0 0);
    --destructive: oklch(0.704 0.191 22.216);
    --border: oklch(1 0 0 / 10%);
    --input: oklch(1 0 0 / 15%);
    --ring: oklch(0.38 0.189 293.745);

    /* --- Docusaurus 深色主题 --- */
    --ifm-color-primary: #b3f2ff;
    --ifm-color-primary-dark: #88ebff;
    --ifm-color-primary-darker: #72e7ff;
    --ifm-color-primary-darkest: #31dcff;
    --ifm-color-primary-light: #def9ff;
    --ifm-color-primary-lighter: #f4fdff;
    --ifm-color-primary-lightest: #ffffff;
    --ifm-background-color: hsl(222, 25%, 12%);

    /* --- 深色模式 NavBar 颜色自定义 --- */
    --ifm-navbar-background-color: #1b1b1d;
    --ifm-navbar-text-color: #ffffff;
    --ifm-navbar-link-color: #ffffff;
    --ifm-navbar-link-hover-color: #b3f2ff;

    /* 你原有的设置 (保留) */
    --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
  }

  html {
    font: var(--ifm-font-size-base) / var(--ifm-line-height-base) var(--ifm-font-family-base);
  }
}

/* GitHub */
.header-github-link:hover {
  opacity: 0.6;
}

.header-github-link::before {
  content: '';
  width: 24px;
  height: 24px;
  display: flex;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'/%3E%3C/svg%3E") no-repeat;
}

html[data-theme='dark'] .header-github-link::before {
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='white' d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'/%3E%3C/svg%3E") no-repeat;
}

/* ========== 文章内容使用霞鹜文楷 ========== */
/* 文档与博客主栏内容区域 */
.theme-doc-markdown>*,
.theme-blog-post>* {
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

/* Category 分类页面宽度限制（排除 breadcrumbs） */
[class*="generatedIndexPage_"]>header,
[class*="generatedIndexPage_"]>article,
[class*="generatedIndexPage_"]>footer {
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.markdown {
  max-width: 800px;
  /* 你期望的宽度 */
  margin: 0 auto;
  /* 基础字号加大 */
  font-size: 1.25rem; /* 20px */
}

article {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
}

/* ========== 博客页 Header 使用霞鹜文楷 ========== */
/* 博客文章标题区域 */
article header {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

article header h1,
article header h2,
[class*="blogPostTitle"],
[class*="blogPostHeader"] {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
}

/* 博客列表页标题 */
.blog-list-page header {
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.blog-list-page header h1,
.blog-list-page header h2,
[class*="blogListTitle"] {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
}

/* 文章标题 */
.markdown h1 {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
  font-size: 2.5rem; /* 40px */
}

.markdown h2 {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
  font-size: 2rem; /* 32px */
}

.markdown h3 {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
  font-size: 1.75rem; /* 28px */
}

.markdown h4,
.markdown h5,
.markdown h6 {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
  font-size: 1.5rem; /* 24px */
}

/* 文章段落和列表 */
.markdown p,
.markdown li,
.markdown blockquote {
  font-family: 'LXGW WenKai', 'Outfit', 'Noto Serif SC', Georgia, serif;
  font-size: 1.25rem; /* 20px */
  line-height: 1.8;
}

/* ========== 其他 UI 部分使用 Outfit ========== */
.navbar,
.menu,
.footer,
.pagination-nav,
.breadcrumbs,
.table-of-contents {
  font-family: var(--font-outfit);
}

/* ========== 隐藏滚动条样式 ========== */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Custom utilities for Typographic Card */
.writing-vertical-rl {
  writing-mode: vertical-rl;
  text-orientation: upright;
}

/* ========== DocSidebar 样式 (仅 Tailwind 无法处理的部分) ========== */

/* Collapse Button - CSS 变量和 hover 状态 */
:root {
  --docusaurus-collapse-button-bg: transparent;
  --docusaurus-collapse-button-bg-hover: rgb(0 0 0 / 10%);
}

[data-theme='dark']:root {
  --docusaurus-collapse-button-bg: rgb(255 255 255 / 5%);
  --docusaurus-collapse-button-bg-hover: rgb(255 255 255 / 10%);
}

.collapse-sidebar-button {
  background-color: var(--docusaurus-collapse-button-bg);
  border-color: var(--ifm-toc-border-color);
}

.collapse-sidebar-button:hover,
.collapse-sidebar-button:focus {
  background-color: var(--docusaurus-collapse-button-bg-hover);
}

/* RTL 支持 */
[dir='rtl'] .collapse-sidebar-button-icon {
  transform: rotate(0) !important;
}

/* Sidebar Menu - @supports scrollbar-gutter */
@supports (scrollbar-gutter: stable) {
  @media (min-width: 997px) {
    .sidebar-menu {
      padding: 0.5rem 0 0.5rem 0.5rem;
      scrollbar-gutter: stable;
    }
  }
}

/* 公告栏 margin */
.sidebar-menu-with-announcement-bar {
  margin-bottom: var(--docusaurus-announcement-bar-height);
}

/* DocSidebar - Docusaurus CSS 变量 */
@media (min-width: 997px) {
  .doc-sidebar {
    padding-top: var(--ifm-navbar-height);
    width: var(--doc-sidebar-width);
  }

  .doc-sidebar-logo {
    margin: 0 var(--ifm-navbar-padding-horizontal);
    min-height: var(--ifm-navbar-height);
    max-height: var(--ifm-navbar-height);
    color: inherit !important;
    text-decoration: none !important;
  }

  .doc-sidebar-logo img {
    margin-right: 0.5rem;
    height: 2rem;
  }
}

/* Aceternity Sidebar Item Styling */
.menu__link {
  border-radius: 0.5rem; /* rounded-md */
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  color: var(--color-foreground-muted);
  margin-bottom: 2px;
  position: relative;
  overflow: hidden;
}

.menu__link:hover {
  background-color: var(--color-muted);
  color: var(--color-foreground);
  transform: translateX(4px);
}

.menu__link--active {
  background-color: var(--color-secondary);
  color: var(--color-secondary-foreground);
  font-weight: 500;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.menu__link--active:hover {
  background-color: var(--color-secondary);
}

/* Sub-menu alignment */
.menu__list-item--collapsed .menu__list {
  display: none;
}

/* Enhanced Scrollbar for sidebar */
.sidebar-menu::-webkit-scrollbar {
  width: 4px;
}

.sidebar-menu::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-menu::-webkit-scrollbar-thumb {
  background-color: var(--color-border);
  border-radius: 10px;
}

.sidebar-menu::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-muted-foreground);
}

/* Removing default border on right of menu items if docusaurus has one */
.menu {
  background-color: transparent;
}