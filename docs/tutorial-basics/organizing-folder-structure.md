
# 📁 文档文件夹的组织结构

`docs` 文件夹中的 Markdown 文件排列方式，会在多方面影响 Docusaurus 的内容生成。
不过，其中的大部分逻辑都可以与文件结构**解耦（decoupled）**。

---

## 📄 文档 ID（Document ID）

每篇文档都有一个唯一的 **id**。

默认情况下，文档的 **id** 是该文件相对于根目录 `docs` 的路径（不包含扩展名）。

例如：

```
website # 你的网站根目录
└── docs
   ├── greeting.md
   └── guide
      └── hello.md
```

* `greeting.md` 的文档 ID 为：`greeting`
* `guide/hello.md` 的文档 ID 为：`guide/hello`

---

### ✍️ 自定义文档 ID

你可以在 Markdown 文件的 **front matter**（文件头部的 `---` 部分）中显式定义文档 ID。

例如，如果 `guide/hello.md` 文件内容如下：

```yaml
---
id: part1
---

Lorem ipsum
```

那么它的最终文档 ID 就会变为：`guide/part1`。

---

### 🧩 ID 的用途

文档 ID 用于：

* 手动编写 `sidebars.js` 时引用文档；
* 或在使用与文档相关的组件 / hook 时引用。

---

## 🌐 文档 URL（Doc URLs）

默认情况下，文档的 **URL 地址** 是根据文档的 **id** 派生出来的，而文档的 id 又是基于文件路径生成的。

---

### 🪄 特殊命名规则（index / README / 同名文件夹）

如果文档文件的名字满足以下任意情况，文件名将不会出现在 URL 中：

| 文件路径                     | 默认 URL         |
| ------------------------ | -------------- |
| `docs/Guides/index.md`   | `/docs/Guides` |
| `docs/Guides/README.mdx` | `/docs/Guides` |
| `docs/Guides/Guides.md`  | `/docs/Guides` |

也就是说，如果文件名是：

* `index`（不区分大小写），或
* `README`（不区分大小写），或
* 与父文件夹同名，

那么 URL 默认不会带上这部分路径（不会出现 `/index`、`/README`、或重复的 `/Guides` 段）。

> ⚠️ 注意：
> 这与 “分类索引（category index）” 的约定一致，
> 但 `isCategoryIndex` 配置不会影响文档的 URL。

---

## 🧭 使用 `slug` 明确指定 URL

你可以在 front matter 中使用 `slug` 字段来**显式指定文档 URL**，覆盖默认生成的规则。

例如：

```
website
└── docs
    └── guide
        └── hello.md
```

默认情况下：

* `hello.md` 的访问路径是 `/docs/guide/hello`

如果你希望它改为 `/docs/bonjour`，可以这样写：

```yaml
---
slug: /bonjour
---

Lorem ipsum
```

`slug` 会被自动附加到插件的 `routeBasePath` 之后。
默认情况下，`routeBasePath` 是 `/docs`。
如果你想移除 `/docs` 前缀，可以查看 “Docs-only mode” 模式。

---

### 🧭 `slug` 的用法提示

你可以使用：

* **绝对路径 slug：**

  ```yaml
  slug: /mySlug
  slug: /...
  ```

* **相对路径 slug：**

  ```yaml
  slug: mySlug
  slug: ./../mySlug
  ```

> 💡 提示：
> 改变文档文件名或 id 时，默认 URL 也会随之变化。
> 为了避免外部链接失效，建议始终为重要文档设置一个显式的 `slug` 来保持 URL 稳定。

---

## 🏠 让文档出现在网站根路径

如果你想让某篇文档可以直接通过网站根路径访问（如 `https://docusaurus.io/docs/`），可以在 front matter 中设置：

```yaml
---
id: my-home-doc
slug: /
---

Lorem ipsum
```

---

## 📚 侧边栏（Sidebars）

当使用 **自动生成的侧边栏（autogenerated sidebars）** 时，文件结构会决定侧边栏的层级结构。

因此，**推荐做法是**：

> 让文件系统的层级结构与侧边栏结构一致，
> 这样你就不需要手动维护 `sidebars.js` 文件。

然后，你可以使用每个文档的 `slug` 来微调每个文档的实际 URL。

---

## 🧩 总结

| 概念                    | 默认规则          | 可通过 front matter 修改 |
| --------------------- | ------------- | ------------------- |
| 文档 ID (`id`)          | 文件相对路径（不含扩展名） | ✅ 可自定义              |
| 文档 URL                | 根据文档 ID 自动生成  | ✅ 可用 `slug` 覆盖      |
| 侧边栏结构                 | 由文件夹结构决定      | ✅ 可手动或自动生成          |
| 特殊文件名（index / README） | URL 不包含文件名    | 自动应用                |

